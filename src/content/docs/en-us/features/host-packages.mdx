---
order: 50
xref: host-packages
title: Host Packages Internally
description: How to host your own Chocolatey packages, rather than use the Chocolatey Community Repository
---
import Callout from '@choco-astro/components/Callout.astro';
import Iframe from '@choco-astro/components/Iframe.astro';
import Xref from '@components/Xref.astro';

<Callout type="info">
    Refer to the <Xref title="Chocolatey for Business Organizational Deployment Guide" value="organizational-deployment-guide" /> in tandem with this article.
</Callout>

## The Rationale Behind Hosting Your Own Packages

Since its inception in 2011, Chocolatey has been able to work with packages from one or more sources, and Chocolatey comes with a default package repository configured as a source - the [Chocolatey Community Repository](https://community.chocolatey.org/). However, being publicly available and subject to distribution rights, it has a failure point: it's not 100% reliable (most packages can't contain software and must download it at runtime).

The answer is to use an internal package repository; hosted on your own network and filled with your own packages, or packages <Xref title="internalized" value="package-internalizer" /> by Chocolatey. This allows for testing packages locally before distributing them across your entire environment.

Organizations looking to use Chocolatey should review the following topics to learn more:

* <Xref title="Chocolatey Community Repository - organizational use" value="community-packages-disclaimer" />
* <Xref title="Security and the Chocolatey Community Repository" value="security" anchor="organizational-use-of-chocolatey" />

## Recommendations

The Chocolatey Support team's current suggestion for organizational use is [Inedo ProGet](https://inedo.com/proget). ProGet is a free and robust repository solution that offers Chocolatey-specific feeds. For other commercially supported repository solutions, see [commercially supported options](#commercially-supported-options).

### Known Hosting Options

Some of these options also work from a non-Windows hosting perspective. See [Non-Windows Hosting](#non-windows-hosting).

* [Inedo ProGet](https://inedo.com/proget) - ProGet gives you a free on-premises option. The paid version also offers feed replication and package cleanup.
* [Sonatype Nexus](https://www.sonatype.com/products/sonatype-nexus-repository) - Nexus has a free Community Edition, but it has strict [usage limits](https://help.sonatype.com/en/usage-center.html#usage-limitations-for-community-edition) which makes Community Edition unusable at scale.
* [JFrog Artifactory Pro](https://www.jfrog.com/artifactory/) - a paid-only option that offers a lot of features. [More information here](http://www.jfrog.com/confluence/display/RTF/NuGet+Repositories)
* [MyGet](https://www.myget.org/) - a paid-only solution offering on-premises and cloud options. 
* [Cloudsmith](https://cloudsmith.com) - free for individuals but paid for teams and organizations. Cloudsmith also offers [Chocolatey-specific feeds](https://cloudsmith.com/product/formats/chocolatey-repository).
* File Share\UNC share (below) - While this is perhaps the easiest to setup for testing, it is not recommended for organizations and is not supported.
* SCCM Distribution Points (when used as a file share) - this is also not recommended and is not supported.

## Package Version Immutability

A package version is immutable on some sources; meaning that everybody's version 1.0.1 of a particular package is the same. You don't need to worry about this when updating with newer versions of packages, because each Chocolatey package (the compiled .nupkg) has the unique version in the name (e.g `bob.1.0.0.nupkg` vs `bob.1.0.1.nupkg` ).

Package immutability is usually desired because you know that everyone on v1.0.0 of a Chocolatey package has exactly the same code, which simplifies administration.

Without immutability, there's no guarantee that the version of a package installed is the same as the version of that package at the source.

## Local Folder / UNC Share (CIFS)

<Callout type="warning">
    Local Folder / UNC Shares are not supported by the Chocolatey Support team.
</Callout>

Perhaps the easiest to set up for testing scenarios, a local folder is a strong contender when you need a quick source for packages.

If you're creating large packages, see <Xref title="Package Reducer" value="package-reducer" /> for keeping used space down on client machines.

### Local Folder Share Setup

Set your permissions appropriately and put packages in the folder (no subfolders). It's that easy; you're already done. Two considerations:

* [Folder Structure](#local-folder-or-share-structure)
* [Permissions](#local-folder-permissions)

#### Local Folder Or Share Structure

The structure should just be a flat folder or share (no subfolders) with Chocolatey packages (.nupkgs) inside that folder. This occurs when using `choco push` to push packages to that location. See <Xref title="the Push command" value="choco-command-push" /> for more information.

#### Local Folder or Share Permissions

File share permissions can be interesting to configure. If you're using machine accounts like LocalSystem, they may not have access to network resources. However, there is a way to handle that in domain environments. You would need to grant access to machines or anonymous access to the share (Everyone Read is likely not enough).

A great read on your options can be found at the following Stack Exchange links:

* https://serverfault.com/q/135867/79259
* https://serverfault.com/q/41130/79259

A way to do this with LocalSystem:

1. Create a global group on the domain.
    * Add all machines to the newly created global group.
1. Add this group to the share permissions with "Read" Access.
1. Add this group to the NTFS permissions with "Read" Access.

## Commercially Supported Options

<Callout type="info">
    The options below are commercially supported by the Chocolatey Support team for licensed customers. You must have a paid version of Chocolatey to qualify for commercial support.
</Callout>

* [Inedo ProGet](http://inedo.com/support/documentation/proget/installation/installation-guide)
* [Sonatype Nexus](https://www.sonatype.com/products/sonatype-nexus-repository)
* [Artifactory Pro](http://www.jfrog.com/confluence/display/RTF/NuGet+Repositories)

## Non-Windows Hosting

<Callout type="warning">
    The options below are not supported by the Chocolatey Support team.
</Callout>

If you don't want to host on Windows you have only the following options (from least advanced to most advanced - these options typically also work on Windows):

* CIFS share
* [Express Chocolatey Server](https://www.npmjs.com/package/express-chocolatey-server) - Open source, OS-agnostic, read-only, does not require .NET or Windows, based on [Express](https://expressjs.com/)
* [TeamCity](https://www.jetbrains.com/teamcity/) - contains built-in simple server
* [Hazel](https://github.com/MPIB/hazel) - Simple server built in Rust
* [Cloudsmith](https://cloudsmith.com) - see [Cloudsmith Chocolatey Repository](https://help.cloudsmith.io/docs/chocolatey-repository)
* [Artifactory Pro](https://www.jfrog.com/artifactory/) - see [Artifactory NuGet Repositories](http://www.jfrog.com/confluence/display/RTF/NuGet+Repositories)
* [Sonatype Nexus](https://help.sonatype.com/en/sonatype-nexus-repository.html) - see [Nexus NuGet Repositories](https://help.sonatype.com/en/nuget-repositories.html)
