---
order: 140
xref: central-management
title: Chocolatey Central Management (CCM)
description: What is CCM?
---
import Callout from '@choco-astro/components/Callout.astro';
import Iframe from '@choco-astro/components/Iframe.astro';
import Xref from '@components/Xref.astro';

Chocolatey Central Management (CCM) provides you insights across your desktop and endpoint environments. CCM is available with Chocolatey for Business only.

Once installed and configured, you can use Chocolatey Central Management to:

* Bring reporting to the organizational level
* Quickly see all software across the organization and see what needs attention immediately
* Create reports for tracking and auditing purposes
* Manage endpoints with Deployment Plans through groups and collections

![Central Management Logo](https://img.chocolatey.org/docs/ccm-playwright/account/login/logo.png)

This provides an overview on Chocolatey Central Management (CCM). It provides both setup and use of CCM.

## Chocolatey Central Management Components

The following are all of the Chocolatey components required for Chocolatey Central Management to work.

* Chocolatey CLI (`chocolatey` package)
* Chocolatey for Business (C4B) Edition.
* Chocolatey Licensed Extension (`chocolatey.extension` package)
* Chocolatey Agent (`chocolatey-agent` package)
* Chocolatey Central Management Database (`chocolatey-management-database` package)
  * This deploys the Chocolatey Central Management database schema to a specified SQL Server instance.
* Chocolatey Central Management Service (`chocolatey-management-service` package)
  * This installs the Chocolatey Central Management Service, which the Chocolatey Agent will communicate with.
* Chocolatey Central Management Website (`chocolatey-management-web` package)
  * This is the Chocolatey Central Management front-end website that is the main user interface of the application.

### Chocolatey Central Management Component Compatibility Matrix

Chocolatey Central Management has specific needs that are mostly handled by packaging aspects. As the Chocolatey Agent and Chocolatey Central Management communicate with each other, there are some versions that may not be compatible with each other due to mistakes or fixes that needed to be implemented. This serves as a means of capturing that for you.

<Callout type="info">
    Central Management packages (all three) are treated as a singular unit, meaning that they all must be on the same version across one or more machines. Using different versions of Chocolatey Central Management packages is unsupported and will likely not work properly.
</Callout>

|Chocolatey Central Management|Chocolatey Agent|Chocolatey Licensed Extension|Chocolatey|
|-----------------------------|----------------|-----------------------------|----------|
|0.14.0                       |1.1.0+          | 4.2.0+                      | 1.1.0+   |

## Getting Chocolatey Central Management

Chocolatey Central Management (CCM) is only available for Chocolatey for Business (C4B) customers. If you are a C4B customer, you can head to the install components section:

* <Xref title="Chocolatey Central Management Setup" value="ccm-setup" />
* <Xref title="Chocolatey Central Management Client Setup" value="ccm-client" />

If you are not a customer yet, you can [reach out for a trial](https://chocolatey.org/contact/trial).

<Callout type="info">
    Trials are limited to organizations. If you are personally wanting to work with CCM and other C4B components, you can purchase a C4B starter pack - see [pricing](https://chocolatey.org/pricing).
</Callout>

## Stay Up To Date

* <Xref title="Chocolatey Central Management Release Notes" value="ccm-release-notes" />
* [Release Announcements Only Mailing List](https://groups.google.com/group/chocolatey-announce)

## Links

### Setup / Installation

* <Xref title="Chocolatey Central Management Setup" value="ccm-setup" />
  * <Xref title="Chocolatey Central Management Database Setup" value="ccm-database" />
  * <Xref title="Chocolatey Central Management Service Setup" value="ccm-service" />
  * <Xref title="Chocolatey Central Management Web Setup" value="ccm-website" />
* <Xref title="Chocolatey Central Management Client Setup" value="ccm-client" />

### Setup / Upgrade

* <Xref title="Upgrading Chocolatey Central Management" value="ccm-upgrade" />

### Using Chocolatey Central Management

* <Xref title="Chocolatey Central Management Computers" value="ccm-computers" />
* <Xref title="Chocolatey Central Management Software" value="ccm-software" />
* <Xref title="Chocolatey Central Management Groups" value="ccm-groups" />
* <Xref title="Chocolatey Central Management Deployments" value="ccm-deployments" />
* <Xref title="Chocolatey Central Management Reports" value="ccm-reports" />

<div class="row mb-3">
    <div class="col-sm-6 mb-3 mb-sm-0">
        <img src="https://img.chocolatey.org/docs/ccm-playwright/dashboard/light-mode.png" alt="Chocolatey Central Management Dashboard in light mode" />
    </div>
    <div class="col-sm-6">
        <img src="https://img.chocolatey.org/docs/ccm-playwright/dashboard/dark-mode.png" alt="Chocolatey Central Management Dashboard in dark mode" />
    </div>
</div>

### Chocolatey Central Management API

* <Xref title="Chocolatey Central Management API" value="ccm-api" />

### ChocoCCM Powershell Module

* <Xref title="ChocoCCM Module" value="chococcm" />

## Related Articles

* <Xref title="Chocolatey For Business Quick Start Guide(QSG)" value="c4b-quick-start-guide" />
* <Xref title="Chocolatey For Business Azure Environment" value="c4b-azure" />

## Roadmap

* <Xref title="Chocolatey Central Management Development Roadmap" value="roadmap" anchor="chocolatey-central-management" />

## FAQs

### How do I take advantage of Chocolatey Central Management?

You must have a [Business edition of Chocolatey](https://chocolatey.org/compare). Business editions are great for organizations that need to manage the total software lifecycle.

### I'm a licensed customer, now what?

See [Getting Chocolatey Central Management](#getting-ccm).

### Will this become available for lower editions of Chocolatey?

Chocolatey Central Management will only be available in Chocolatey for Business (C4B).

### What's the minimum version of the Chocolatey packages I need to use Chocolatey Central Management?

See [Chocolatey Central Management Component Compatibility Matrix](#chocolatey-central-management-component-compatibility-matrix).

### Where can I find all the log files for Chocolatey Central Management

Chocolatey Central Management is made up of a number of components, so there will be a few possible places to find the log files, which you may be asked for when engaging with support.

* The Chocolatey Central Management Website log file located at `c:\tools\chocolatey-management-web\App_Data\Logs\ccm-website.log`. If you are on a version of CCM prior to 0.2.0, the log will be located at `c:\tools\chocolatey-management-web\App_Data\Logs\Logs.txt`.
* The Chocolatey Central Management service log file is located at `$env:ChocolateyInstall\logs\ccm-service.log`. If you are on a version of CCM prior to 0.2.0, the log will be located at `$env:ChocolateyInstall\lib\chocolatey-management-service\tools\service\logs\chocolatey.service.host.log`.
* The Chocolatey Agent log file is located at `$env:ChocolateyInstall\logs\chocolatey-agent.log`. If you are on a version of Chocolatey Agent prior to 0.10.0, the log will be located at `$env:ChocolateyInstall\lib\chocolatey-agent\tools\service\logs\chocolatey-agent.log`.

### Where can I find the changelog or release notes for Chocolatey Central Management?

Please see <Xref title="Central Management Release Notes" value="ccm-release-notes" />.

### How do I get support?

Please run `choco support` from a licensed edition and follow the instructions.

### How do I set up Chocolatey Central Management?

* As part of our <Xref title="Chocolatey for Business Quick Start Guide" value="c4b-quick-start-guide" />
* As part of our <Xref title="Chocolatey For Business Azure Environment" value="c4b-azure" />
* By following the <Xref title="Chocolatey Central Management Setup Docs" value="ccm-setup" />

### If I update the license file, do I need to restart my services and web?

Yes, you do need to restart the agents, the service, and the web to pick up the license. Here's a handy script:

```powershell
Get-Service chocolatey-* | Stop-Service
Get-Process -Name "ChocolateySoftware.ChocolateyManagement.Web.Mvc" -ErrorAction SilentlyContinue | Stop-Process
Get-Service chocolatey-* | Start-Service
```

For your agent machines:

```powershell
Get-Service chocolatey-* | Stop-Service
Get-Service chocolatey-* | Start-Service
```

## Common Errors and Resolutions

### Computers checking in are overwriting each other

You are generating machines from a base image that already had Chocolatey commercial code on it. This is okay, but you need to remove the Chocolatey Machine Id Guid, which is used to identify a machine as unique.

When the licensed agent service is installed on a machine, a unique machine id is given to the machine. If you are starting from a template, there is no opportunity for that to be different and when those machines start checking in, they will start overwriting each other.

Basically you need to go find the machine id at `HKEY_LOCAL_MACHINE\SOFTWARE\Chocolatey\` (`UniqueId`) and remove it as part of your image deployment mechanism.

```powershell
Write-Host "Removing Chocolatey Unique Machine GUID"
Remove-ItemProperty -Path "HKLM:\Software\Chocolatey" -Name "UniqueId" -Force
# Restart the Agent Service if it is running
```

Once you've removed this, you'll need to restart the Agent Service to get it regenerated.

<Callout type="info">
    You may **also** need to remove the ChocolateyLocalAdmin user (if you are using it for services) and reinstall the Agent service (and CCM service if on this machine) to get that password corrected.
</Callout>

### An Internal error occurred during your request

Check the log files. You may have incorrect database access, but most likely it can come because you didn't follow the steps for setup appropriately.

### System.Data.SqlClient.SqlException: Invalid column name

This means you are upgrading things out of order. Please make sure your database is upgraded first, then the service, then the web.
